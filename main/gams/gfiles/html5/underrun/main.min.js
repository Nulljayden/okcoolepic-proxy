var canvas = document.createElement('canvas');
canvas.width = canvas.height = 640;
document.body.appendChild(canvas);

var g = document.createElement('div');
g.id = 'game';
document.body.appendChild(g);

var ctx = canvas.getContext('webgl');

// ... other code ...

function main() {
  init();
  animate();
}

function init() {
  // ... other code ...

  // Set up WebGL
  setupWebGL();

  // ... other code ...

  // Start the main loop
  requestAnimationFrame(main);
}

function animate() {
  update();
  render();
  requestAnimationFrame(animate);
}

function setupWebGL() {
  // ... other code ...

  // Create shaders
  createShaders();

  // ... other code ...
}

function createShaders() {
  // ... other code ...
}

// ... other functions ...

main();
